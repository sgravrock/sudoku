import {Puzzle} from "../Puzzle";
import {parsePuzzle} from "./parsePuzzle";

describe("parsePuzzle", () => {
	it("builds a puzzle", () => {
		const input = `| 43758612
					   |9
					   |2
					   |7
					   |4
					   |5
					   |8
					   |3
					   |  6`;
		const expected = Puzzle.fromRawCells([
			null,
			3,
			2,
			6,
			4,
			7,
			5,
			0,
			1,
			8,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			1,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			6,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			3,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			4,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			7,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			2,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			5,
			null,
			null,
			null,
			null,
			null,
			null,
		]);

		expect(parsePuzzle(input)).toEqual(expected)
	});

	it('adds extra lines', () => {
		const input = '| 43758612';
		const expected = Puzzle.fromRawCells([
			null,
			3,
			2,
			6,
			4,
			7,
			5,
			0,
			1,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
			null,
		]);

		expect(parsePuzzle(input)).toEqual(expected)
	});
});